# =============================================================================
# Image Generation API Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# LiteLLM Configuration (Primary - Recommended for cost tracking)
# -----------------------------------------------------------------------------
# LiteLLM proxy base URL (e.g., http://litellm:4000 or http://localhost:4000)
LITELLM_BASE_URL=

# LiteLLM API key (optional, depends on your LiteLLM setup)
LITELLM_API_KEY=

# -----------------------------------------------------------------------------
# Direct Provider API Keys (Fallback)
# -----------------------------------------------------------------------------
# OpenAI API key for direct access (fallback when LiteLLM unavailable)
OPENAI_API_KEY=

# Google Gemini API key for direct access (fallback when LiteLLM unavailable)
GEMINI_API_KEY=

# -----------------------------------------------------------------------------
# Storage Configuration
# -----------------------------------------------------------------------------
# Path to store generated images
STORAGE_PATH=./generated_images

# URL where THIS API serves images
# Examples:
#   - Local: http://localhost:8000
#   - Docker: http://openapi-image-gen:8000 (use container name)
#   - External: https://images.example.com
IMAGE_BASE_URL=http://localhost:8000

# Save images to local disk (default: true)
# Set to false when using MARKDOWN_EMBED_IMAGES=true with Open WebUI
# (images will be stored by Open WebUI instead)
SAVE_IMAGES_LOCALLY=true

# -----------------------------------------------------------------------------
# Response Configuration
# -----------------------------------------------------------------------------
# Embed images as base64 data URI in markdown responses (default: false)
# When true: Returns ![image](data:image/png;base64,...)
# When false: Returns ![image](http://...)
# Set to true for Open WebUI integration with ENABLE_CHAT_RESPONSE_BASE64_IMAGE_URL_CONVERSION
MARKDOWN_EMBED_IMAGES=false

# -----------------------------------------------------------------------------
# Security (Optional)
# -----------------------------------------------------------------------------
# Bearer token for API authentication (leave empty to disable auth)
API_BEARER_TOKEN=

# -----------------------------------------------------------------------------
# Provider Fallback
# -----------------------------------------------------------------------------
# Use direct provider API when LiteLLM doesn't support a feature (default: false)
# When enabled, requests using unsupported features will bypass LiteLLM and
# use the provider's native API directly. Requires the respective API key.
#
# Currently applies to:
# - Gemini aspect ratios other than 1:1 (requires GEMINI_API_KEY)
DIRECT_PROVIDER_FALLBACK=false

# -----------------------------------------------------------------------------
# Model Configuration
# -----------------------------------------------------------------------------
# Default model for image generation (optional, uses first available if not set)
# Examples: gemini/gemini-2.0-flash-exp-image-generation, dall-e-3, gpt-image-1
DEFAULT_MODEL=

# Filter LiteLLM models to only show image generation models (default: true)
FILTER_IMAGE_MODELS=true

# Cache TTL for model list in seconds (default: 3600 = 1 hour)
MODEL_CACHE_TTL=3600

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Host to bind to
HOST=0.0.0.0

# Port to listen on
PORT=8000
